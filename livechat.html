<html xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-vue@latest/dist/bootstrap-vue.min.css"/>

    <!-- Load polyfills to support older browsers -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CMutationObserver"
            crossorigin="anonymous"></script>

    <!-- Load Vue followed by BootstrapVue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@latest/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<div id="app">
    <button v-on:click="refresh">Refresh status</button>
    <p>{{ title }}</p>
    <table class="table">
        <tr v-for="server_status">
            <td>{{ server_status.status }}</td>
        </tr>
    </table>
</div>

<script>
    var app = new Vue({
        el: "#app",
        data: {
            title: "Chat",
            server_status: []
        },
        headers: {
            'Content-Type': 'application/json;charset=UTF-8',
            'Access-Control-Allow-Origin': '*',
        },
        methods: {
            refresh: function (e) {
                axios.get('http://localhost:8000/', {}).then(
                    response = > {
                    this.server_status = response.data;
            })
                ;
            }
        }
    });
</script>

<div id="add">
    <form @submit.prevent="onsubmit">
        <div class="form-group">
            <label>Name</label>
            <input
                    class="form-control"
                    v-model="form.name"
                    type="text"
                    required
                    placeholder="oranie">
        </div>
        <div class="form-group">
            <label>Comment</label>
            <input
                    class="form-control"
                    v-model="form.comment"
                    type="text"
                    title="comment"
                    placeholder="なにかかいてね">
        </div>
        <div class="form-group">
            <button
                    class="btn btn-primary"
                    type="submit">Submit
            </button>
        </div>
    </form>
    <pre>{{ result }}</pre>
</div>

<script>
    new Vue({
        el: "#add",
        data() {
            return {
                form: {},
                result: {}
            }
        },
        methods: {
            onsubmit() {
                axios.post('http://localhost:8000/chat/comments/add', {
                    name: this.form.name,
                    comment: this.form.comment
                }).then(
                    response = > {
                    this.result = Object.assign({}, this.form);
            })
                ;
            }
        }
    });
</script>


<div id="all">
    <button v-on:click="all">all messages</button>

    <table class="table">
        <tr v-for="comments">
            <td>{{ comments.response }}</td>
        </tr>
    </table>
</div>

<script>
    var all = new Vue({
        el: "#all",
        data: {
            title: "Chat",
            comments: []
        },
        headers: {
            'Content-Type': 'application/json;charset=UTF-8',
            'Access-Control-Allow-Origin': '*',
        },
        methods: {
            all: function (e) {
                axios.get('http://localhost:8000/chat/comments/all', {}).then(
                    response = > {
                    this.comments = response.data;
            })
                ;
            }
        }
    });
</script>


</body>
</html></body>